#!/usr/bin/env node

/**
 * Module dependencies.
 */

var 
  program = require('commander'),
  wapm = require('../lib/wapm');

/**
 * Program usage.
 */

program
  .version( require('../package').version )

program
  .command( 'search <module>' )
  .description( 'Search wapm for <module>' )
  .action( wapm.search );

program
  .command( 'install' )
  .description( 'Install audio modules by name, or by reading from wapm.json' ) 
  .action( wapm.install );

program
  .command( 'register' )
  .description( 'Registers the PWD\'s module using the wapm.json manifest' )
  .action( wapm.register );

// Display help information and exit if invoked with no arguments
if ( process.argv.length < 3 ) { program.help(); }

// Execute
program.parse(process.argv);

